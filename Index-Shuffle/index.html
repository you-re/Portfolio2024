<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index Shuffle Node</title>
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
    
    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <!-- Link to Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="../Assets/css/styles.css">
</head>
<body>
    <div class="container">
        <div class="content-box">
            <h1>Index Shuffle Node</h1>
        </div>

        <div class="content-box">
            <h2>Problem: Predictable Point Distribution</h2>
            <p id="justify">In Blender, the Distribute Points on Faces and Distribute Points in Volume nodes generate points in a predictable order—starting from the first face or voxel to the last. This creates uniform patterns, which aren't ideal when projects require random yet evenly distributed points.</p>
        </div>

        <div class="content-box">
            <h2>Solution: Index Shuffle Node</h2>
            <p id="justify">To overcome this, I developed the Index Shuffle Node, which randomizes point indices by randomly splitting points into two groups and rejoining them. This method allows for a fast, intuitive way to achieve more randomized distributions, ideal for creating natural layouts.</p>
        </div>
        
        <div class="grid-item">
            <a>
                <video loop muted autoplay controls src="Assets/Shuffled-Points-v02.mp4" alt="Shuffled Points Video"></video>
            </a>
            <div class="description">
                Shuffled Points
            </div>
        </div>

        <div class="grid-item">
            <a>
                <video loop muted autoplay controls src="Assets/Unshuffled-Points-v02.mp4" alt="Unshuffled Points Video"></video>
            </a>
            <div class="description">
                Unshuffled Points
            </div>
        </div>

        <div class="content-box">
            <h2>Customization and Performance</h2>
            <p>
                The node enables users to randomize indices on both point clouds and 3D meshes, applying not only to points but also to faces and edges on any 3D mesh. Unlike traditional noise functions, which can introduce overlapping values, the Index Shuffle Node preserves unique indices per point, ensuring that no two points share the same index and that the input range matches the output range. This feature opens up several creative and technical applications, such as:</br></br>
                - Adding an exact number of new points per specified time frame (simulations)</br>
                - Selecting an exact number of points for instancing objects (instancing)</br>
                - Achieving non-repeating patterns on mesh surfaces for texturing (even distribution)</br>
                - Placing particles or decals at randomized but evenly spread intervals across a surface (memory conservation)</br></br>

                Additionally, by offering control over shuffle repetitions, the node allows users to fine-tune randomness, balancing between natural randomness and system performance as needed. These capabilities make the Index Shuffle Node a versatile tool in crafting organic, natural-looking layouts in procedural projects without sacrificing precision or efficiency.</p>
        </div>

        <div class="content-box">
            <h2>Tools Used</h2>
            <p><strong>- Blender</strong> (Geometry Nodes)</p>
        </div>
        
        <div class="content-box">
            <footer>
                <div class="footer-content">
                    <a href="https://you-re.github.io/Portfolio2024/">© 2024 Jure Sulič</a>
                    <a href="mailto:j.sulic@gmail.com">j.sulic@gmail.com</a>
                    <div class="social-icons">
                        <a href="https://www.linkedin.com/in/juresulic" target="_blank" class="social-link">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://github.com/you-re" target="_blank" class="social-link">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://www.instagram.com/you_re_cgi" target="_blank" class="social-link">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </footer>
        </div>

        <!-- The Modal for Enlarged Image -->
        <div id="myModal" class="modal">
            <div class="modal-image-container">
                    <span class="close">&times;</span>
                    <img class="modal-content" id="modal-img">
                    <div class="modal-caption" id="caption"></div>
            </div>
        </div>
        
    </div>

    <script>
        // Wait for the DOM to load before running JavaScript
        document.addEventListener("DOMContentLoaded", function() {
            const modal = document.getElementById("myModal");
            const modalImg = document.getElementById("modal-img");
            const captionText = document.getElementById("caption");
            const closeModal = document.querySelector(".close");

            // Function to set modal image width based on container width
            function setModalImageWidth() {
                const containerWidth = document.querySelector('.container').offsetWidth;
                modalImg.style.width = `${containerWidth}px`;
            }

            // Add click event to each gallery image to open modal
            document.querySelectorAll('.gallery-img').forEach(img => {
                img.addEventListener('click', function() {
                    modal.style.display = "flex"; // Show modal
                    modalImg.src = this.src; // Set image source
                    captionText.innerHTML = this.alt; // Set caption text
                    setModalImageWidth(); // Match modal image width with container
                });
            });

            // Close modal when clicking the 'close' button
            closeModal.onclick = function() {
                modal.style.display = "none";
            }

            // Close modal when clicking outside the image
            modal.onclick = function(event) {
                if (event.target === modal) {
                    modal.style.display = "none";
                }
            }

            // Update modal image width on window resize
            window.addEventListener('resize', setModalImageWidth);
        });
    </script>
</body>
</html>
