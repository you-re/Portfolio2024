<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medusa</title>
    
    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <style>
        /* Reset some default browser styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* General body styling */
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #cecece;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            text-align: center;
        }

        /* Container to center everything */
        .container {
            max-width: 1000px;
            background-color: #fff;
            border: 1px solid #333;
            border-bottom: 0px;
            margin: 0 auto;
            padding: 0; /* Remove padding */
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start; /* Align to the left */
        }

        /* Header and paragraph box styling */
        .content-box {
            background-color: #fff;
            border-bottom: 1px solid #333;
            width: calc(100%); /* Full width minus padding */
            margin: 0; /* No margin */
            padding: 10px; /* Reduced padding for a tighter fit */
            text-align: center; /* Center text */
        }
        
        .content-box img {
            width: 100%;
            height: 500px;
            border: 20px;
        }

        .content-box iframe {
            width: 100%;
            height: 500px;
            border: 20px;
        }

        .content-box iframe {
            width: 100%; /* Full width */
            height: 500px; /* Fixed height for desktop; adjust as needed */
            border: none; /* Remove the default border */
            /* Optional: To prevent black borders on mobile, consider adding these styles */
            background: #000; /* Set background to black to match video */
            display: block; /* Ensures there's no extra space */
        }
        
        /* Additional style for top border */
        .content-box.has-top-border {
            border-top: 1px solid #333; /* Add top border */
        }

        .grid-item {
            background-color: #fff;
            border-right: 1px solid #333; /* Default right border */
            border-bottom: 1px solid #333; /* Default bottom border */
            margin: 0; /* Remove margin for touching containers */
            padding: 0; /* Remove padding for touching containers */
            width: calc(25%); /* 4 items per row */
            text-align: center;
            position: relative; /* For positioning of the description */
            transition: transform 0.5s ease; /* Smooth transition */
        }

        .grid-item a {
            display: block; /* Make anchor fill the grid item */
            position: relative; /* For absolute positioning of the image */
            overflow: hidden; /* Prevent overflow when zooming */
        }
        .grid-item video {
            width: 100%; /* Image occupies 100% of the box */
            height: auto; /* Maintain aspect ratio */
            object-fit: fit; /* Cover the entire box while maintaining aspect ratio */
            display: block; /* Remove any extra space below the image */
            padding: 10px;
        }

        .grid-item img {
            width: 100%; /* Image occupies 100% of the box */
            height: auto; /* Maintain aspect ratio */
            object-fit: cover; /* Cover the entire box while maintaining aspect ratio */
            display: block; /* Remove any extra space below the image */
            padding: 10px;
        }

        .description {
            font-weight: 300;
            margin: 0; /* Remove margin */
            color: #333;
            padding: 2%; /* Padding for description */
            background-color: #fff; /* Match background with the grid item */
            border-top: 1px solid #333; /* Border above description */
            text-align: center; /* Center text in the description box */
        }

        .video-container {
            position: relative; /* Positioning context for the iframe */
            padding-top: 56.25%; /* Aspect ratio for 16:9 (height/width) */
            height: 0; /* Zero height, but padding-top creates height */
            overflow: hidden; /* Hides overflow */
        }

        .video-container iframe {
            position: absolute; /* Positioning within container */
            top: 0;
            left: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            border: none; /* Remove any border */
        }

        /* Main header styling */
        h1 {
            text-transform: uppercase;
            font-weight: 150;
            font-size: 2em;
            color: #333;
        }

        /* Subheader styling */
        h2 {
            text-transform: uppercase;
            font-weight: 200;
            color: #333;
            font-size: 1.5em;
        }

        /* Description paragraph */
        p {
            font-family: 'Old Standard TT', serif;
            font-weight: 100;
            font-size: 1em;
            color: #333;
            padding-inline: 10%;
            text-align: left;
        }

        /* Footer box styling */      
        footer {
            background-color: #fff;
            font-weight: 300;
            font-size: 0.8em;
            color: #333;
            text-align: center;
        }

        footer a {
            text-decoration: none;
            color: #333;
        }

        @media (max-width: 5000px) {
            .grid-item {
                width: calc(50%); /* 2 items per row */
            }
        }

        @media (max-width: 800px) {
            .grid-item {
                width: calc(100%); /* 1 item per row */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content-box">
            <h1>Realistic Pendant Rendering</h1>
        </div>

        <div class="content-box">
            <h2>Task Description</h2>
            <p>The Realistic Pendant Rendering project involved creating a detailed 3D replica of a unique, handmade pendant that was housed in a museum. Due to the pendant's value and the inability to access the physical object, we relied on x-ray scans, material analysis, and extensive reference photography and videos. The primary goal was to produce a photorealistic representation of the pendant, including intricate textures and materials of the gemstones, while presenting the object in an engaging manner.</p>
        </div>

        <div class="content-box">       
            <h2>Thought Process</h2>
                <p>Initially, we focused on gathering all available data about the pendant, including its construction methods and the arrangement of gemstones. The modeling was executed in Blender, followed by sculpting in ZBrush to accurately capture the intricate details from the references. After texturing the model in Substance Painter, we transferred it to Houdini for a digital cut, allowing us to visualize the internal structure and gemstone placement. The liquid filling simulation mirrored the craftsmanship involved in placing the gemstones within the gold pendant.</br>

                The final step involved bringing the high-definition model back into Blender for realistic lighting and material creation. Special attention was given to the materials, ensuring they reflected the pendant’s unique characteristics.
                </p>
        </div>
        
        <div class="content-box">
            <h2>Challenges</h2>
                <p>One of the main challenges was creating realistic opal materials, which exhibited complex internal scattering properties. We employed a technique using volumes and procedural 3D textures to achieve a lifelike appearance. This required careful adjustments to simulate how light interacts with the opal, ensuring it looked authentic in the final render.</p>
        </div>

        <div class="grid-item">
            <video allowfullscreen controls autoplay muted src="Assets/Medusa/Medusa-Opal-Mat.mp4" allowfullscreen></video>
            <div class="description">
                Opal shader
            </div>
        </div>

        <div class="grid-item">
            <video allowfullscreen controls autoplay muted src="Assets/Medusa/Medusa-Opals-Rot.mp4" allowfullscreen></video>
            <div class="description">
                Eearly version of the opal shader
            </div>
        </div>
        
        <div class="content-box">
            <h2>Gallery</h2>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_0405.jpg" alt="Image 1">
            <div class="description">
                Image 1
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_1145.jpg" alt="Image 2">
            <div class="description">
                Image 2
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_1301.jpg" alt="Image 3">
            <div class="description">
                Image 3
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_2344.jpg" alt="Image 4">
            <div class="description">
                Image 4
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_2700.jpg" alt="Image 5">
            <div class="description">
                Image 5
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_2910.jpg" alt="Image 6">
            <div class="description">
                Image 6
            </div>
        </div>

        <div class="grid-item">
            <img src="Assets/Medusa/Medusa_3250.jpg" alt="Image 7">
            <div class="description">
                Image 7
            </div>
        </div>

        <div class="content-box">
            <h2>Final edit</h2>
        </div>
        <div class="content-box">
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/4jvNPwH-dek?&mute=1" alt="Propagation Solver Render"></iframe>
            </div>
        </div>

        <div class="content-box">
            <h2>Tools Used</h2>
                <p>
                    <strong>- Blender:</strong> Used for initial modeling, lighting, and final adjustments to the 3D pendant.</br>
                    <strong>- ZBrush:</strong> Sculpted the model to achieve high levels of detail based on reference materials.</br>
                    <strong>- Substance Painter:</strong> Textured the pendant, applying colors and high-frequency details to the gemstones.</br>
                    <strong>- Houdini:</strong> Executed the digital cutting and liquid filling simulations to visualize gemstone placement.</br>
                    <strong>- Blackmagic Fusion:</strong> Composited the final render for enhanced visual quality and presentation.</br>
                </p>
            </div>
        
        <div class="content-box">
            <footer>© 2024 <a href="https://www.linkedin.com/in/jure-suli%C4%8D-9b700a195/">Jure Sulič</a></footer>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const contentBoxes = document.querySelectorAll('.content-box');
            const gridItems = document.querySelectorAll('.grid-item');
    
            // Add top border for content boxes
            contentBoxes.forEach(contentBox => {
                const previousElement = contentBox.previousElementSibling;
                if (previousElement && previousElement.classList.contains('grid-item')) {
                    contentBox.classList.add('has-top-border');
                }
            });

            // Function to check and set borders for grid items
            function updateGridBorders() {
                const container = document.querySelector('.container');
                
                gridItems.forEach((gridItem, index) => {
                    // Reset borders
                    gridItem.style.borderBottom = '1px solid #333';   // Default bottom border

                    gridItem.style.borderRight = '1px solid #333'; // Default right border

                    // Get the width percentage of the grid item
                    const widthPercent = getGridItemWidthInPercent(gridItem);

                    const itemsPerRow = Math.round(100 / widthPercent);

                    const numBoxes = Math.round(gridItems.length / itemsPerRow) * itemsPerRow;

                    const boxIndex = numBoxes - (index + 1);
                                        
                    // Fix right borders
                    if (widthPercent < 34) { // 3 items per row
                        if (((index + 1) % 3) === 0) {
                            gridItem.style.borderRight = '1px solid #fff'; // Remove right border for odd previous items
                        }
                    } else if (widthPercent < 90) { // 2 items per row
                        if (((index + 1) % 2) === 0) {
                            gridItem.style.borderRight = '1px solid #fff'; // Remove right border for odd previous items
                        }
                    } else {
                        if (((index + 1) % 1) === 0) { // 1 item per row
                            gridItem.style.borderRight = '1px solid #fff'; // Remove right border for odd previous items
                        }
                    }

                    // Get the next element
                    const nextElement = gridItem.nextElementSibling;

                    const nextElemetCheck = checkNextElements(gridItem, 3)
                    
                    // Fix bottom borders
                    if (widthPercent < 34) {
                        if (boxIndex < 3) { // 3 items per row
                            gridItem.style.borderBottom = 'none'; // Remove right border for odd previous items
                        }
                    } else if (widthPercent < 90) {
                        if (boxIndex < 2) { // 2 items per row
                            gridItem.style.borderBottom = 'none'; // Remove right border for odd previous items
                        }
                    } else {
                        if (boxIndex < 1) { // 1 item per row
                            gridItem.style.borderBottom = 'none'; // Remove right border for odd previous items
                        }
                    }
                });
            }

            // Recursive function to check the next x elements
            function checkNextElements(element, count, checked = 0) {
                if (checked >= count) return true; // Return true if we have checked the specified number of elements

                const nextElement = element.nextElementSibling; // Get the next sibling
                if (nextElement) {
                    if (!nextElement.classList.contains('grid-item')) {
                        console.log(`Next element is not a grid-item:`, nextElement);
                        return false; // Return false if the next element is not a grid-item
                    }
                    // Recursive call to check the next sibling
                    return checkNextElements(nextElement, count, checked + 1);
                }

                return true; // Return true if there are no more elements to check
            }

            // Function to get the width of a grid item in percentage
            function getGridItemWidthInPercent(gridItem) {
                const container = document.querySelector('.container');
                const gridItemStyle = window.getComputedStyle(gridItem);
                const gridItemWidth = parseFloat(gridItemStyle.width);
                const containerWidth = container.clientWidth;
                const widthPercent = (gridItemWidth / containerWidth) * 100;
                return widthPercent;
            }

            // Initial check
            updateGridBorders();

            // Update on window resize
            window.addEventListener('resize', updateGridBorders);
        });
    </script>
</body>
</html>
